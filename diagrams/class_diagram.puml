@startuml
class GameEngine {
  +current_track: Track
  +players: List<Car>
  +start_race()
}

class Track {
  +name: str
  +geometry: Path2D
  +dqn_model: str
  +load_model()
}

class TrackManager {
  +tracks: List<Track>
  +select_track()
}

class Car {
  +avatar: Avatar
  +controller: Controller
  +apply_controls()
}

class DQNAgent {
  +model: torch.nn.Module
  +track_model: str
  +decide_action()
}

class AvatarGenerator {
  +model: DiffusionPipeline
  +generate(seed): Avatar
}

class RaceSession {
  +setup_race()
  +start_countdown()
}

GameEngine "1" *-- "1" TrackManager
GameEngine "1" *-- "1..*" Car
TrackManager "1" o-- "1..*" Track
Car "1" o-- "1" DQNAgent
Car "1" o-- "1" Avatar
AvatarGenerator "1" ..> "1..*" Avatar : creates
Track "1" --> "1" DQNAgent : uses model
@enduml